

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>General Specifications &mdash; Goma User Manual 6.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Time Integration Specifications" href="time_integration.html" />
    <link rel="prev" title="File Specification" href="file_specifications.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Goma User Manual
          

          
          </a>

          
            
            
              <div class="version">
                6.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Background Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code_structure_and_io.html">Code Structure and I/O</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../problem_description_file.html">Problem Description (Input File)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="file_specifications.html">File Specification</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">General Specifications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#number-of-processors"><strong>Number of Processors</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description-usage"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#technical-discussion"><strong>Technical Discussion</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#output-level"><strong>Output Level</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#references"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#debug"><strong>Debug</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id4"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6"><strong>Technical Discussion</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#number-of-jacobian-file-dumps"><strong>Number of Jacobian File Dumps</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id7"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9"><strong>Technical Discussion</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#initial-guess"><strong>Initial Guess</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id10"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12"><strong>Technical Discussion</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#initialize"><strong>Initialize</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id13"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15"><strong>Technical Discussion</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#external-field"><strong>External Field</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id16"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#export-field"><strong>Export Field</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id20"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id21"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id23"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#external-pixel-field"><strong>External Pixel Field</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id24"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id25"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id26"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id27"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pressure-datum"><strong>Pressure Datum</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id28"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id29"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id30"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id31"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#anneal-mesh-on-output"><strong>Anneal Mesh on Output</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id32"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id33"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id34"><strong>Technical Discussion</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="time_integration.html">Time Integration Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="level_set.html">Level Set Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="phase_field.html">Phase Field Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="continuation.html">Continuation Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="hunting.html">Hunting Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="augmenting_conditions.html">Augmenting Conditions Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="solver_specifications.html">Solver Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="eigensolver.html">Eigensolver Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="boundary_conditions.html">Boundary Condition Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="rotation.html">Rotation Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="problem_description.html">Problem Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing.html">Post Processing Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing_fluxes.html">Post Processing Fluxes and Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing_particle.html">Post Processing Particle Traces</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing_volume.html">Volumetric Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../material_files.html">Material Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation_lists.html">Appendix 1: Goma Documentation Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../library_mode.html">Appendix 2: Using Goma in Library Mode</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Goma User Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../problem_description_file.html">Problem Description (Input File)</a> &raquo;</li>
        
      <li>General Specifications</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/problem_description_file/general_specifications.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="general-specifications">
<h1>General Specifications<a class="headerlink" href="#general-specifications" title="Permalink to this headline">¶</a></h1>
<p>This section of input records covers additional I/O requests and specifications, including parallel
file I/O information, initial-guess directives (viz., whether a restart comes from a neutral file or
another exoII file), individual field variable initialization, debugging options, developer
diagnostic options, etc. This section and several of its input records are required, as indicated
below.</p>
<div class="section" id="number-of-processors">
<h2><strong>Number of Processors</strong><a class="headerlink" href="#number-of-processors" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Number</span> <span class="n">of</span> <span class="n">processors</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="section" id="description-usage">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#description-usage" title="Permalink to this headline">¶</a></h3>
<p>This card is no longer used in <em>Goma</em>; it is defunct. Input decks can safely remove this
card without adverse effects as the input parser no longer looks for this as an input
string.</p>
</div>
<div class="section" id="examples">
<h3><strong>Examples</strong><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>No Examples.</p>
</div>
<div class="section" id="technical-discussion">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#technical-discussion" title="Permalink to this headline">¶</a></h3>
<p>As the full implementation of parallel <em>Goma</em> has been achieved, this card is no longer
required. The number of processors is designated on the command line, when <strong>brking</strong>
the mesh during domain decomposition, on the <strong>mpirun</strong> command line when executing
Goma and on the <strong>fix</strong> command line when reassembling solution files calculated on
decomposed meshes.</p>
</div>
</div>
<div class="section" id="output-level">
<h2><strong>Output Level</strong><a class="headerlink" href="#output-level" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Output</span> <span class="n">Level</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="section" id="id1">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>This optional card specifies the level of diagnostic information output to the file
stderr. The permissible values for &lt;integer&gt; are <strong>0</strong> through <strong>4</strong>, depending on the level
of informational (debugging) output desired; higher values of the output level will
produce more diagnostic information on the stdout and stderr output channels.
The default output level is <strong>0</strong>. Specific output is summarized below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Level</p></th>
<th class="head"><p>Results Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>No diagnostic output (default).</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Identifies the degree of freedom, the solution variable, and
node at which the maximum value of norm is present.</p></td>
</tr>
<tr class="row-even"><td><p>2,3,4</p></td>
<td><p>Currently unused; available for developer output
specification.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id2">
<h3><strong>Examples</strong><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Following is a sample card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Output</span> <span class="n">Level</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>This specification allows the developer a means to output specific information that
would be helpful in diagnosing problems in the software. Currently, the output options
are limited.</p>
</div>
<div class="section" id="references">
<h3><strong>References</strong><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h3>
<p>No References.</p>
</div>
</div>
<div class="section" id="debug">
<h2><strong>Debug</strong><a class="headerlink" href="#debug" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Debug</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="section" id="id4">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>This optional card specifies the level of information output to files stdout and
stderr. The permissible values for &lt;integer&gt; are <strong>-3</strong> through <strong>4</strong>, depending on the level
of informational (debugging) output desired; higher values of the output level will
produce more diagnostic information output on the stdout and stderr output
channels. The default level is 0. Specific results produced for each level are
summarized below. The user should exercise caution in using values other than the
default for problems with large numbers of unknowns as the volume of information
increases very quickly.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Level</p></th>
<th class="head"><p>Results Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>No output (default).</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Logs activity as the code does problem setup, including setting
addresses and sizes, boundary-condition (BC) conflictresolution
information, and identification of the rotation
conditions at every node with a boundary flag. Prints out surface
boundary integral setup information. Lists matrix and solver
information for each solution step.</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Prints same information as level 1, plus provides a summary of
BC type information for each BC and logs the beginning and
end of matrix fill operations.</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Prints same information as level 2, but also prints a list of
variables/unknowns at each node.</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Prints same information as for level 3.</p></td>
</tr>
<tr class="row-odd"><td><p>-1</p></td>
<td><p>Logs activity as the code does problem setup and prints out
surface boundary integral setup information as is done for mode
1. Triggers a comparison of the analytical Jacobian and the
numerical Jacobian in un-scaled form, which can be used to
check the compatibility of the analytical residual equations and
Jacobian. Prints results only if the analytical and numerical
Jacobian are different. Does not solve any equations; terminates
after Jacobian print out.</p></td>
</tr>
<tr class="row-even"><td><p>-2</p></td>
<td><p>Same initial information as for level -1. Triggers a comparison
of the analytical Jacobian and the numerical Jacobian scaled by
the sum of each row of the analytical Jacobian (this helps
suppress small errors in large Jacobian entries). Prints results
only if the analytical and numerical Jacobian are different.</p></td>
</tr>
<tr class="row-odd"><td><p>-3</p></td>
<td><p>Similar to level -2 except each row is scaled by the diagonal
value which is usually the largest. Prints results only if the
analytical and numerical Jacobian are different.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id5">
<h3><strong>Examples</strong><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Following is a sample card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Debug</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>For options -1, -2, -3, viz. numerical Jacobian checking, the user must take care when
interpreting the cited differences in the numerical and analytical Jacobian. The comparison is made by perturbing each variable and comparing the numerical Jacobian
computed between the perturbed and unperturbed states to the analytical Jacobians at
the two states. A difference is deemed significant if the numerical Jacobian falls outside
the band between the two analytical values with an additional allowance for roundoff
error. It is the roundoff error in the residual that is the most difficult for the Jacobian
checker to estimate. This is particularly true for problems with zero initial conditions
since it is impossible to determine the scale of a velocity, for example, if all the values
of velocity are zero. For this reason, it is often better to use a nonzero initial condition
or a scaled problem (with values order unity) when using the Jacobian checker.</p>
<p>Currently, there are two parameters output by the Jacobian checker that can help the
user decide on the significance of the entry. The first is the relative change in the
analytical residual. This quantity, labeled d<sub>aj</sub>, is the percentage of the acceptance band
that comes from changes in the analytical Jacobian from the unperturbed to perturbed
states. For a non-linear dependency, the difference between the analytical Jacobians
will be significant and it is reasonable to expect that the numerical Jacobian should fall
within the band. If the analytical Jacobian is nearly constant over the perturbation, the
accuracy of the check becomes increasingly dependent on knowing the roundoff error
in the residual. So, as d<sub>aj</sub> gets closer to unity, the user can have more confidence that
the entry is significant.</p>
<p>The second parameter is a confidence measure that is the deviation between the
numerical jacobian and analytical values divided by the expected value of the deviation
based on roundoff error. Since the roundoff error is only known approximately, this
value, called <em>conf</em>, is only a qualitative measure of the confidence. A <em>conf</em> value of 100
means that the deviation between the numerical jacobian and the analytical values is
100 times larger than the expected deviation based on roundoff error.</p>
<p>Here is a sample of output from a convective heat transfer problem, using the -2 option</p>
<p>Eqdof=92 T_0 n=31 Vardof=95 T_0 n=32 x=0
dx=0.0001 aj=-0.008188 nj=-0.008126 aj_1=-0.008188 d_aj=0
conf=1.889e+06</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">QCONV</span> <span class="n">on</span> <span class="n">SSID</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
<p>This entry can be read as follows: The sensitivity of global equation number 92, which
happens to be the T_0 energy equation at node 31, with respect to the temperature
variable at node 32 (variable global degree of freedom number 95) has an analytical
Jacobian of -0.008188 at the unperturbed state and a computed numerical Jacobian of
0.008126. The analytical jacobian at the perturbed state is -0.008188. For this problem
the change in the analytical Jacobian is zero between the unperturbed and perturbed
states, so d<sub>aj</sub> is zero. But even though the difference is small between the analytical and
numerical values, it is huge relative to the expected roundoff error, with the deviation
being 1.889e+6 times the deviation attributable to roundoff error.</p>
<p>For each node where a deviation is found, the side boundary conditions applied at the
node are printed, as shown above. If one of these boundary conditions are applied to the
equation that shows an error and have the same dependency that is showing the error,
this boundary condition is flagged as shown for the QCONV boundary condition
above.</p>
<p>Before the user/developer concludes that there is a discrepancy in the analytical
Jacobian, a few things should be tried:</p>
<ul class="simple">
<li><p>Giving the problem a nonzero initial guess, either by reading in a STEADY state
solution, if one exists, or on transient problems using the “one” option on the
Initial Guess card. Sometimes this will make many differences disappear.</p></li>
<li><p>Checking whether the nodes cited in the difference outputs are boundary nodes.
Specifically, if they are boundary nodes on which Dirichlet boundary conditions
are specified, artificial errors can occur.</p></li>
<li><p>Also, if you are in doubt that there are not reported errors, put one in by a 10
percent perturbation to the residual. The Jacobian checker should hit on those
errors and report them to you.</p></li>
<li><p>Check the settings in <em>mm_numjac.h</em>.</p></li>
</ul>
</div>
</div>
<div class="section" id="number-of-jacobian-file-dumps">
<h2><strong>Number of Jacobian File Dumps</strong><a class="headerlink" href="#number-of-jacobian-file-dumps" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Number</span> <span class="n">of</span> <span class="n">Jacobian</span> <span class="n">File</span> <span class="n">Dumps</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="section" id="id7">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>This routine will dump a serial machine independent binary file out to disk containing
the Jacobian. The file is meant to be used by the auxiliary program, <strong>checkGomaJac</strong>, to compare two versions of the Jacobian. Ancillary data meant to enhance the printouts in
<strong>checkGomaJac</strong> are also output to the file. The card takes one mandatory integer
variable.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;integer&gt;</p></td>
<td><p>If the integer is a positive number, n, then <em>Goma</em> will dump
the first n Jacobians created (for any reason) to the current
directory. If the integer is a negative value, -n, then <em>Goma</em>
will dump a single Jacobian, the n’th Jacobian created, to
the current directory.</p></td>
</tr>
</tbody>
</table>
<p>The dumped files are named matrix.000, matrix.001, etc. Overwrites of files are
allowed to occur. The files themselves are written out using the XDR protocol layer
(easy, quick, and machine portable). The VBR format is used to write files out, even if
the internal format used by <em>Goma</em> is MSR. Thus, VBR and MSR formatted Jacobians
may be compared. Frontal Solver Jacobians are not compatible. The algorithm used is
also compatible with parallel jobs using <em>Goma</em>. In other words, the Jacobian file
dumped out for an 8 processor <em>Goma</em> run should be identical to the file dumped out by
a single processor run.</p>
<p>In order to use this feature, it is necessary to compile <em>Goma</em> with the MATRIX_DUMP
flag defined.</p>
<p>To compare two Jacobian files previously dumped out for compatibility, run
<strong>checkGomaJac</strong> offline:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">checkGomaJac</span>   <span class="n">matrix1</span>   <span class="n">matrix2</span>
</pre></div>
</div>
<p><strong>checkGomaJac</strong> will compare each entry in the row and column scaled matrices and
print out in an annotated format the entries containing the largest differences.</p>
</div>
<div class="section" id="id8">
<h3><strong>Examples</strong><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Number</span> <span class="n">of</span> <span class="n">Jacobian</span> <span class="n">File</span> <span class="n">Dumps</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>This capability has proven itself to be very useful in tracking changes to the Jacobian
due to differences in the machine architecture, number of processes, and due to changes
in the source code over time. The comparison is done using the standard RTOL, ATOL
logic found in ODE solvers. In other words, a weighting vector of the form,</p>
<p><strong>EQUATION</strong></p>
<p>is created for each Jacobian entry, J<sub>i</sub>. Then, a determination of the difference between
J<sub>i`and J:sub:`i</sub> by the following formula:</p>
<p><strong>EQUATION</strong></p>
<p>w<sub>i</sub> is also used in the Jacobian column scalings, before the standard row sum scaling is
applied.</p>
<p>Internal Sandia users can find the auxiliary program, <strong>checkGomaJac</strong>, in the directory /
<strong>home/goma/arch/linux/bin</strong> on the Linux compute server, and in other ‘arch’
subdirectories for other platforms. External users should contact Goma support staff to
obtain the tool.</p>
</div>
</div>
<div class="section" id="initial-guess">
<h2><strong>Initial Guess</strong><a class="headerlink" href="#initial-guess" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initial</span> <span class="n">Guess</span> <span class="o">=</span> <span class="p">{</span><span class="n">char_string</span><span class="p">}</span> <span class="p">[</span><span class="n">filename</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="id10">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>This optional card directs the initialization of the entire unknown vector. Three options
are provided to set the entire solution field to numerical values determined by
{char_string}. Three additional options are available for reading initial values of the
solution vector from data files. The permissible values of {char_string} are:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 69%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>zero</p></td>
<td><p>For an initial guess of zero (0.) for each degree of freedom
in the unknown vector.</p></td>
</tr>
<tr class="row-even"><td><p>one</p></td>
<td><p>For an initial guess of one (1.) for each degree of freedom in
the unknown vector.</p></td>
</tr>
<tr class="row-odd"><td><p>random</p></td>
<td><p>For a random initial guess (between 0. and 1.) for each
degree of freedom in the unknown vector.</p></td>
</tr>
<tr class="row-even"><td><p>read</p></td>
<td><p>To obtain the initial guess by reading the ASCII data file
identified as the <em>GUESS file</em>, which must have initially been
a <em>SOLN</em> file or a tmp_i.d (<em>Write Intermediate Results</em>) file.</p></td>
</tr>
<tr class="row-odd"><td><p>read_exoII</p></td>
<td><p>To obtain the initial guess from the EXODUS II file
specified by the <em>FEM file</em> card that is also used to supply
mesh data. Any extraneous variables in the EXODUS II file
that are not in the list of active variables for the current
problem description are simply ignored.</p></td>
</tr>
<tr class="row-even"><td><p>read_exoII_file <em>file name</em></p></td>
<td><p>To read the initial guess for the field variables from an
EXODUS II database file different from the initial mesh
database file. The <em>file_name</em> is specified as a single string
following the read_exoII_file keyword. As with the
read_exoII option, any extraneous variables not specified
as active variables for the simulation will be simply ignored.</p></td>
</tr>
</tbody>
</table>
<p>If this card is omitted, then the default behavior is to assume that a value of zero has
been specified for {char_string}.</p>
</div>
<div class="section" id="id11">
<h3><strong>Examples</strong><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>Following is a sample card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initial</span> <span class="n">Guess</span> <span class="o">=</span> <span class="n">zero</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initial</span> <span class="n">Guess</span> <span class="o">=</span> <span class="n">read_exoII_file</span>      <span class="n">First_Iteration</span><span class="o">.</span><span class="n">exoII</span>
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>This card provides the specification of the initial vector of unknowns in a problem. In
most cases this vector is specified to be identically zero, though in some cases a nonzero
vector may be of value (see <em>Technical Discussion</em> section of <em>Debug</em> card). The first
three options (<strong>zero, one, random</strong>) employ an internally-generated vector of initial
values, while the <strong>read</strong> option utilizes the values read from an ASCII solution file (see
<em>SOLN</em> input card) previously calculated by <em>Goma</em>, and the <strong>read_exoII</strong> options employ
solutions read from binary (exoII) files, not necessarily always generated by <em>Goma</em>.</p>
</div>
</div>
<div class="section" id="initialize">
<h2><strong>Initialize</strong><a class="headerlink" href="#initialize" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initialize</span> <span class="o">=</span> <span class="p">{</span><span class="n">char_string</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>       <span class="p">[</span><span class="n">units</span> <span class="n">vary</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="id13">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>This optional card provides a mechanism to set one of the field variables to a constant
value across the <em>whole</em> domain. Definitions of the input parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>{char_string}</p></td>
<td><p>Permissible values for this input string are any variable
names identified in source file rf_fem_const.h
beginning at the section labeled Variable Names of
unknowns. Examples include, but are not limited to, the
following (note the shorthand notation for components):</p>
<p><strong>VELOCITY1, VELOCITY2, VELOCITY3 (V123),
MESH_DISPLACEMENT (MD123),
SOLID_DISPLACEMENT (SD123),
MASS_FRACTION, TEMPERATURE, PRESSURE,
VOLTAGE, FILL, LS, POLYMER_STRESS (6
components, 8 modes), VELOCITY_GRADIENT (9
components), SHEAR_RATE, VOLF_PHASE (6
phases), POR_LIQ_PRES, POR_GAS_PRES,
POR_POROSITY, POR_SATURATION, POR_LAST,
LAGR_MULT (LM123), SURF_CHARGE,
EXT_VELOCITY, EFIELD(123), SHELL (4 variables),
SPECIES (7 variables).</strong></p>
<p><em>For a more comprehensive list, see Technical discussion below.</em></p>
</td>
</tr>
<tr class="row-even"><td><p>&lt;integer&gt;</p></td>
<td><p>Species number to be initialized if the value of
{char_string} is one of the SPECIES variables (see
Technical Discussion); otherwise, set &lt;integer&gt; to zero.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;float&gt;</p></td>
<td><p>Value to which the variable should be initialized.</p></td>
</tr>
</tbody>
</table>
<p>Multiple applications of this card are valid; <em>Goma</em> automatically counts the number of
<em>Initialize</em> cards.</p>
</div>
<div class="section" id="id14">
<h3><strong>Examples</strong><a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>Following is a sample card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initialize</span> <span class="o">=</span> <span class="n">VELOCITY1</span> <span class="mi">0</span> <span class="mf">0.</span>
</pre></div>
</div>
</div>
<div class="section" id="id15">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<p>This card provides the means to globally set (i.e., the entire problem domain) initial
values for any of the field variables. Since the setting of variables initialized on this
card takes place after reading the initial guess (see function <em>init_vec</em> in file <em>rf_util.c</em>), it can be used to override the value in the <em>Initial Guess</em> file.</p>
<p>In order to set a field to a specific value in a particular material only, a similar <em>Initialize</em>
capability is provided within each material block. Please check in the Material Files
section of this manual.</p>
<p>Note, the SPECIES_UNK variables are <strong>NOT</strong> used to initialize any of the species
variables. Rather, the special definitions called <strong>SPECIES_MASS_FRACTION,
SPECIES_MOLE_FRACTION, SPECIES_VOL_FRACTION, SPECIES_DENSITY,
SPECIES_CONCENTRATION, SPECIES_CAP_PRESSURE</strong> and
<strong>SPECIES_UNDEFINED_FORM</strong>, having integer representations of 2170 to 2176, and
representing the various Species Types, are the variables used in Goma input or mat
files for this input record. Multiple species are initialized by combining one of these
variable types with the second parameter (&lt;integer&gt;) on this card.</p>
<p>The comprehensive list of keyword variable names can be found in <em>mm_input_util.c</em>, if
you have access to GOMA source code. Search for the function <em>variable_string_to_int</em>.
A snapshot of the initialize-able variables in that routine is shown here:</p>
<p>var = VELOCITY1;</p>
<p>var = VELOCITY2;</p>
<p>var = VELOCITY3;</p>
<p>var = TEMPERATURE;</p>
<p>var = MASS_FRACTION;</p>
<p>var = MESH_DISPLACEMENT1;</p>
<p>var = MESH_DISPLACEMENT2;</p>
<p>var = MESH_DISPLACEMENT3;</p>
<p>var = PRESSURE;</p>
<p>var = POLYMER_STRESS11;</p>
<p>var = POLYMER_STRESS12;</p>
<p>var = POLYMER_STRESS13;</p>
<p>var = POLYMER_STRESS22;</p>
<p>var = POLYMER_STRESS23;</p>
<p>var = POLYMER_STRESS33;</p>
<p>var = SOLID_DISPLACEMENT1;</p>
<p>var = SOLID_DISPLACEMENT2;</p>
<p>var = SOLID_DISPLACEMENT3;</p>
<p>var = VELOCITY_GRADIENT11;</p>
<p>var = VELOCITY_GRADIENT12;</p>
<p>var = VELOCITY_GRADIENT13;</p>
<p>var = VELOCITY_GRADIENT21;</p>
<p>var = VELOCITY_GRADIENT22;</p>
<p>var = VELOCITY_GRADIENT23;</p>
<p>var = VELOCITY_GRADIENT31;</p>
<p>var = VELOCITY_GRADIENT32;</p>
<p>var = VELOCITY_GRADIENT33;</p>
<p>var = VOLTAGE;</p>
<p>var = FILL;</p>
<p>var = SHEAR_RATE;</p>
<p>var = PVELOCITY1;</p>
<p>var = PVELOCITY2;</p>
<p>var = PVELOCITY3;</p>
<p>var = POLYMER_STRESS11_1;</p>
<p>var = POLYMER_STRESS12_1;</p>
<p>var = POLYMER_STRESS22_1;</p>
<p>var = POLYMER_STRESS13_1;</p>
<p>var = POLYMER_STRESS23_1;</p>
<p>var = POLYMER_STRESS33_1;</p>
<p>var = POLYMER_STRESS11_2;</p>
<p>var = POLYMER_STRESS12_2;</p>
<p>var = POLYMER_STRESS22_2;</p>
<p>var = POLYMER_STRESS13_2;</p>
<p>var = POLYMER_STRESS23_2;</p>
<p>var = POLYMER_STRESS33_2;</p>
<p>var = POLYMER_STRESS11_3;</p>
<p>var = POLYMER_STRESS12_3;</p>
<p>var = POLYMER_STRESS22_3;</p>
<p>var = POLYMER_STRESS13_3;</p>
<p>var = POLYMER_STRESS23_3;</p>
<p>var = POLYMER_STRESS33_3;</p>
<p>var = POLYMER_STRESS11_4;</p>
<p>var = POLYMER_STRESS12_4;</p>
<p>var = POLYMER_STRESS22_4;</p>
<p>var = POLYMER_STRESS13_4;</p>
<p>var = POLYMER_STRESS23_4;</p>
<p>var = POLYMER_STRESS33_4;</p>
<p>var = POLYMER_STRESS11_5;</p>
<p>var = POLYMER_STRESS12_5;</p>
<p>var = POLYMER_STRESS22_5;</p>
<p>var = POLYMER_STRESS13_5;</p>
<p>var = POLYMER_STRESS23_5;</p>
<p>var = POLYMER_STRESS33_5;</p>
<p>var = POLYMER_STRESS11_6;</p>
<p>var = POLYMER_STRESS12_6;</p>
<p>var = POLYMER_STRESS22_6;</p>
<p>var = POLYMER_STRESS13_6;</p>
<p>var = POLYMER_STRESS23_6;</p>
<p>var = POLYMER_STRESS33_6;</p>
<p>var = POLYMER_STRESS11_7;</p>
<p>var = POLYMER_STRESS12_7;</p>
<p>var = POLYMER_STRESS22_7;</p>
<p>var = POLYMER_STRESS13_7;</p>
<p>var = POLYMER_STRESS23_7;</p>
<p>var = POLYMER_STRESS33_7;</p>
<p>var = SPECIES_MASS_FRACTION;</p>
<p>var = SPECIES_MOLE_FRACTION;</p>
<p>var = SPECIES_VOL_FRACTION;</p>
<p>var = SPECIES_DENSITY;</p>
<p>var = SPECIES_CONCENTRATION;</p>
<p>var = SPECIES_CAP_PRESSURE;</p>
<p>var = SPECIES_UNDEFINED_FORM;</p>
<p>var = POR_LIQ_PRES;</p>
<p>var = POR_GAS_PRES;</p>
<p>var = POR_POROSITY;</p>
<p>var = POR_TEMP;</p>
<p>var = POR_SATURATION;</p>
<p>var = VORT_DIR1;</p>
<p>var = VORT_DIR2;</p>
<p>var = VORT_DIR3;</p>
<p>var = CURVATURE;</p>
<p>var = BOND_EVOLUTION;</p>
<p>var = SURF_CHARGE;</p>
<p>var = EXT_VELOCITY;</p>
<p>var = EFIELD1;</p>
<p>var = EFIELD2;</p>
<p>var = EFIELD3;</p>
<p>var = ENORM;</p>
<p>var = NORMAL1;</p>
<p>var = NORMAL2;</p>
<p>var = NORMAL3;</p>
<p>var = SHELL_CURVATURE;</p>
<p>var = SHELL_TENSION;</p>
<p>var = SHELL_X;</p>
<p>var = SHELL_Y;</p>
<p>var = SHELL_USER;</p>
<p>var = PHASE1;</p>
<p>var = PHASE2;</p>
<p>var = PHASE3;</p>
<p>var = PHASE4;</p>
<p>var = PHASE5;</p>
<p>var = SHELL_ANGLE1;</p>
<p>var = SHELL_ANGLE2;</p>
<p>var = SHELL_SURF_DIV_V;</p>
<p>var = SHELL_SURF_CURV;</p>
<p>var = N_DOT_CURL_V;</p>
<p>var = GRAD_V_DOT_N1;</p>
<p>var = GRAD_V_DOT_N2;</p>
<p>var = GRAD_V_DOT_N3;</p>
<p>var = ACOUS_PREAL;</p>
<p>var = ACOUS_PIMAG;</p>
<p>var = ACOUS_ENERGY;</p>
<p>var = POR_SINK_MASS;</p>
<p>var = VORT_DIR1</p>
<p>var = VORT_DIR2</p>
<p>var = VORT_DIR3</p>
<p>var = VORT_LAMBDA</p>
<p>var = CURVATURE</p>
<p>var = LAGR_MULT1</p>
<p>var = LAGR_MULT2</p>
<p>var = LAGR_MULT3</p>
<p>var = BOND_EVOLUTION</p>
<p>var = SURF_CHARGE</p>
<p>var = EXT_VELOCITY</p>
<p>var = EFIELD1</p>
<p>var = EFIELD2</p>
<p>var = EFIELD3</p>
<p>var = ENORM</p>
<p>var = NORMAL1</p>
<p>var = NORMAL2</p>
<p>var = NORMAL3</p>
<p>var = SHELL_CURVATURE</p>
<p>var = SHELL_TENSION</p>
<p>var = SHELL_X</p>
<p>var = SHELL_Y</p>
<p>var = SHELL_USER</p>
<p>var = PHASE1</p>
<p>var = PHASE2</p>
<p>var = PHASE3</p>
<p>var = PHASE4</p>
<p>var = PHASE5</p>
<p>var = SHELL_ANGLE1</p>
<p>var = SHELL_ANGLE2</p>
<p>var = SHELL_SURF_DIV_V</p>
<p>var = SHELL_SURF_CURV</p>
<p>var = N_DOT_CURL_V</p>
<p>var = GRAD_S_V_DOT_N1</p>
<p>var = GRAD_S_V_DOT_N2</p>
<p>var = GRAD_S_V_DOT_N3</p>
<p>var = ACOUS_PREAL</p>
<p>var = ACOUS_PIMAG</p>
<p>var = SHELL_DIFF_FLUX</p>
<p>var = SHELL_DIFF_CURVATURE</p>
<p>var = SHELL_NORMAL1</p>
<p>var = SHELL_NORMAL2</p>
<p>var = ACOUS_REYN_STRESS</p>
<p>var = SHELL_BDYVELO</p>
<p>var = SHELL_LUBP</p>
<p>var = LUBP</p>
<p>var = SHELL_FILMP</p>
<p>var = SHELL_FILMH</p>
<p>var = SHELL_PARTC</p>
<p>var = SHELL_SAT_CLOSED</p>
<p>var = SHELL_PRESS_OPEN</p>
<p>var = SHELL_TEMPERATURE</p>
<p>var = SHELL_DELTAH</p>
<p>var = SHELL_LUB_CURV</p>
<p>var = SHELL_SAT_GASN</p>
<p>var = SHELL_SHEAR_TOP</p>
<p>var = SHELL_SHEAR_BOT</p>
<p>var = SHELL_CROSS_SHEAR</p>
<p>var = MAX_STRAIN</p>
<p>var = CUR_STRAIN</p>
<p>var = LUBP_2</p>
<p>var = SHELL_PRESS_OPEN_2</p>
<p>var = SHELL_LUB_CURV_2</p>
</div>
</div>
<div class="section" id="external-field">
<h2><strong>External Field</strong><a class="headerlink" href="#external-field" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">External</span> <span class="n">Field</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">char_string1</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">char_string2</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">file_name</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">char_string_3</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="id16">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<p>This optional card format provides a mechanism for reading-in nodal field variables
stored in an EXODUS II file. Each field variable is specified on a separate input card,
with the following input parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;char_string1&gt;</p></td>
<td><p>Name of the nodal field to be read; it should correspond
to a nodal variable name in the EXODUS II file.</p></td>
</tr>
<tr class="row-even"><td><p>{char_string2}</p></td>
<td><p>Two- to eight-character value that identifies the type of
interpolation to be applied to the external variable field.
Possible values are as follows:</p>
<ul class="simple">
<li><p><strong>Q1</strong>       - Linear</p></li>
<li><p><strong>Q2</strong>       - Quadratic</p></li>
<li><p><strong>Q2_LSA</strong>   - Special quadratic for 3D analysis of 2D LSA</p></li>
<li><p><strong>Q1_D</strong>     - Linear with special surface dofs</p></li>
<li><p><strong>Q2_D</strong>     - Quadratic with special surface dofs</p></li>
<li><dl class="simple">
<dt><strong>Q2_D_LSA</strong> - Special quadratic discontinuous for 3D</dt><dd><p>analysis of 2D LSA</p>
</dd>
</dl>
</li>
<li><p><strong>PQ1</strong>      - Bilinear discontinuous</p></li>
<li><p><strong>PQ2</strong>      - Biquadratic discontinuous</p></li>
<li><p><strong>P0</strong>       - Piecewise constant</p></li>
<li><p><strong>Pl</strong>       - Piecewise linear</p></li>
<li><dl class="simple">
<dt><strong>SP</strong>       - Subparametric; linear on interior,</dt><dd><p>quadratic on surface</p>
</dd>
</dl>
</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>&lt;file_name&gt;</p></td>
<td><p>Name of the EXODUS II file from which the nodal field
is to be read. When Goma is compiled with
LIBRARY_MODE defined (see Appendix 2) and the
external field will be passed into Goma from a driver
code, this entry will be either IMPORT (for nodal
variables) or IMPORT_EV (for element variables),
instead of a file name.</p></td>
</tr>
<tr class="row-even"><td><p>[char_string3]</p></td>
<td><p>Optional character string. Only optional available is
<strong>“timedependent”</strong> which enables nodal variables to be
interpolated to the current time step. This option is
useful for transient coupling, viz. a case in which a
transient field variable is used to drive a time-dependent
simulation. A good example of this is a transient current
density field from a electromagnetics calculation being
used to drive a transient thermal calculation with Joule
heating.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id17">
<h3><strong>Examples</strong><a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<p>The first example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">External</span> <span class="n">Field</span> <span class="o">=</span> <span class="n">VX</span> <span class="n">Q2</span> <span class="n">velocity</span><span class="o">.</span><span class="n">exoII</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">External</span> <span class="n">Field</span> <span class="o">=</span> <span class="n">VY</span> <span class="n">Q2</span> <span class="n">velocity</span><span class="o">.</span><span class="n">exoII</span>
</pre></div>
</div>
<p>The second example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">External</span> <span class="n">Field</span> <span class="o">=</span> <span class="n">JX_FIELD</span> <span class="n">Q2</span> <span class="n">fields</span><span class="o">.</span><span class="n">exoII</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">External</span> <span class="n">Field</span> <span class="o">=</span> <span class="n">JY_FIELD</span> <span class="n">Q2</span> <span class="n">fields</span><span class="o">.</span><span class="n">exoII</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">External</span> <span class="n">Field</span> <span class="o">=</span> <span class="n">BTHETA_FIELD</span> <span class="n">Q2</span> <span class="n">fields</span><span class="o">.</span><span class="n">exoII</span>
</pre></div>
</div>
<p>The third example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">External</span> <span class="n">Field</span> <span class="o">=</span> <span class="n">DMX</span> <span class="n">Q1</span> <span class="n">IMPORT</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">External</span> <span class="n">Field</span> <span class="o">=</span> <span class="n">DMY</span> <span class="n">Q1</span> <span class="n">IMPORT</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">External</span> <span class="n">Field</span> <span class="o">=</span> <span class="n">P_POR</span> <span class="n">Q1</span> <span class="n">IMPORT_EV</span>
</pre></div>
</div>
<p>The fourth example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">External</span> <span class="n">Field</span> <span class="o">=</span> <span class="n">JE_N_1</span> <span class="n">Q1</span> <span class="n">emfields</span><span class="o">.</span><span class="n">exoII</span> <span class="n">time_dependent</span>
</pre></div>
</div>
</div>
<div class="section" id="id18">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p>The field variables read into <em>Goma</em> from the Example cards can be accessed in any
user-defined subroutine.</p>
<p>In the case of variables named <strong>VX, VY, or VZ</strong>, these fields are automatically loaded to
the appropriate velocity component so they can be used in an advection-diffusion
analysis, i.e., <strong>VX, VY, VZ</strong> are reserved names for &lt;char_string1&gt; and a user-defined
routine is not required. Thus the variables for the two fields, “VX” and “VY”, read
from the file named “velocity.exoII” in the first example above, would be automatically
accessed when the advection term is left on in the <em>energy</em> or <em>species_bulk</em> equation
cards. In other words, without solving the momentum equations, one can access an
external velocity field for advection-diffusion problems. These variables would have
quadratic interpolation (Q2) applied to the velocity values read.</p>
<p>The three cards in the second example can be used to read two components of a current
density field (JX_FIELD, JY_FIELD), and the azimuthal component of a magnetic
field (BTHETA_FIELD) from the file “fields.exoII” (generated by some other analysis
code). These fields are then accessed in the user-defined subroutines as</p>
<p>fv-&gt;external_field[0], fv-&gt;external_field[1], and fv-&gt;external_field[2],</p>
<p>respectively, as an interpolated value at an integration point. NOTE that these fields are
brought in as a part of the BOUSS_JXB_FORCE on the Navier Stokes source
card. These are to be distinguished from the electromagnetic fields in the fourth
example which correspond to Solid Momentum Source models.</p>
<p>Note that the number of field variables read from the EXODUS II file must not exceed
the value MAX_EXTERNAL_FIELD set in the include file rf_fem_const.h.
Should that occur, a new version of <em>Goma</em> must be compiled with an increased value of
MAX_EXTERNAL_FIELD. The user should consult notes on building <em>Goma</em> if (s)he
has questions regarding how to do this.</p>
<p>The third example assumes that <em>Goma</em> has been compiled with LIBRARY_MODE and
is linked in to an external driver code along with another program which will compute
some variables and pass their values into <em>Goma</em>; here the imported fields are the X and
Y components of mesh displacement (nodal variables) and porosity (an element
variable). There is a naive first order interpolation function in <em>Goma</em> to obtain nodal
values of fields which are imported as element variables. Although <em>Goma</em> does not
solve for these variables, their values are included in the output Exodus file.</p>
<p>In the fourth example a field JE_N_1, the x-directed current density field, timedependent,
is brought in from emfields.exoII. Typically, depending on the
dimension of the problem, additional fields JE_N_2, JE_N_3 are also brought in as
current density is a e. These fields are part of the JXB Solid Momentum Source model, together with the magnetic nodal field quantities, BE_N_1, BE_N_2, and
BE_N_3.</p>
<p>Several other standard external fields variables are supported in GOMA. Namely:</p>
<p>FVP11, FVP22, etc. These fields are useful for the elastoviscoplasticity model. Please
consult GOMA tutorial GT-019.2 for more details.</p>
<p>SAT, HEIGHT, PERM, CROSS_PERM, SH_SAT_CL_POROSITY, etc. These are
specially designated external fields which are mapped to variations in these properties
corresponding to thin porous media. Please see GT-038.</p>
</div>
<div class="section" id="id19">
<h3><strong>References</strong><a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<p>GT-019.2. Elastoviscoplastic (EVP) Consitutive Model in GOMA: Theory, Testing,
and Tutorial, P. R. Schunk, A. Sun, S. Y. Tam, and K. S. Chen. Memo to Distribution.
March 13, 2003.</p>
<p>GT-038.0: Pixel-to-Mesh Tool Tutorial for GOMA. P R. Schunk, Memo to
distribution, 10 November 2009.</p>
</div>
</div>
<div class="section" id="export-field">
<h2><strong>Export Field</strong><a class="headerlink" href="#export-field" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Export</span> <span class="n">Field</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer1</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="section" id="id20">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<p>Special capability for use in library mode, a mode in which GOMA is called as a
library from a driver program. This card is used to indicate which fields will be
exported for use in other codes.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;integer1&gt;</p></td>
<td><p>&lt;integer1&gt; Name of the nodal field to be read; it should correspond
to a nodal variable name in the EXODUS II file.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id21">
<h3><strong>Examples</strong><a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<p>No Examples.</p>
</div>
<div class="section" id="id22">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<p>See Appendix 2.</p>
</div>
<div class="section" id="id23">
<h3><strong>References</strong><a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<p>No References.</p>
</div>
</div>
<div class="section" id="external-pixel-field">
<h2><strong>External Pixel Field</strong><a class="headerlink" href="#external-pixel-field" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">External</span> <span class="n">Pixel</span> <span class="n">Field</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">char_string1</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">Q1</span><span class="o">|</span><span class="n">Q2</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">file_name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">integer1</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="section" id="id24">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<p>This optional card format provides a mechanism for reading-in pixel fields which are
converted (mapped, with a least squares algorithm) to finite element fields with the
chosen interpolation. After GOMA execution these fields are output in exodusII
format in a file map.exoII. Please see discussion below and Tutorial GT-038 for more
details and important tips.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;char_string1&gt;</p></td>
<td><p>Name of the nodal field to be read; it should correspond
to a nodal variable name you wish to have in the output
EXODUS II file. If you subsequently wish to read the
field in again and use as an EXTERNAL_FIELD model
on other material property card, the chosen name matters.</p></td>
</tr>
<tr class="row-even"><td><p>{Q1 | Q2}</p></td>
<td><p>The type of interpolation to be applied to the external
pixel field variable field. Possible values are as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>Q1  -  Linear</p></li>
<li><p>Q2  -  Quadratic</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>&lt;file_name&gt;</p></td>
<td><p>Name of the text file name with the pixel points. The
pixel field format in this file should be as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p># pixel points</p></li>
<li><p>x_1, y_1, z_1 value</p></li>
<li><p>x_2, y_2, z_2 value</p></li>
<li><p>…</p></li>
<li><p>x_N, y_n, z_n value</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>&lt;integer1&gt;</p></td>
<td><p>Material block ID to which the pixel field is mapped.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id25">
<h3><strong>Examples</strong><a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">External</span> <span class="n">Pixel</span> <span class="n">Field</span> <span class="o">=</span> <span class="n">HEIGHT</span> <span class="n">Q1</span> <span class="n">tread</span><span class="o">.</span><span class="n">txt</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="id26">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<p>Please consult the tutorial GT-038 before using this capability. Many user tips are
given together with a more thorough explanation on the proper use This capability is
extremely memory intensive, and excessive grid sizes and pixel densities can blow out
the memory on your machine. As of 12/22/2012 (the end of the Mayan calendar)
these fields are used typically to bring in pattern maps for scaling porous media and
lubrication height properties.</p>
<p>SAT, HEIGHT, PERM, CROSS_PERM, SH_SAT_CL_POROSITY, etc. These are
specially designated external fields which are mapped to variations in these properties
corresponding to thin porous media. Please see GT-038.</p>
</div>
<div class="section" id="id27">
<h3><strong>References</strong><a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<p>GT-038.0: Pixel-to-Mesh Tool Tutorial for GOMA. P R. Schunk, Memo to
distribution, 10 November 2009.</p>
</div>
</div>
<div class="section" id="pressure-datum">
<h2><strong>Pressure Datum</strong><a class="headerlink" href="#pressure-datum" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Pressure</span> <span class="n">Datum</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span> <span class="p">{</span> <span class="n">atm</span> <span class="o">|</span> <span class="n">torr</span> <span class="o">|</span> <span class="n">cgs</span> <span class="p">}</span>
</pre></div>
</div>
<div class="section" id="id28">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<p>This card is used to set a thermodynamic pressure datum on fluid or solid mechanics
problems that calculate equations of state requiring a true value for the total pressure.
The total pressure is then defined as the sum of a constant base thermodynamic
pressure, specified by this card, and a variable hydrodynamic pressure calculated via
the pressure unknown. Definitions of the input parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;float&gt;</p></td>
<td><p>Value of the thermodynamic pressure datum.</p></td>
</tr>
<tr class="row-even"><td><p>{ atm | torr | cgs }</p></td>
<td><p>Units of the float specified above.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id29">
<h3><strong>Examples</strong><a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<p>Following is a sample card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Pressure</span> <span class="n">Datum</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="n">atm</span>
</pre></div>
</div>
</div>
<div class="section" id="id30">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<p>The value of this variable is stored in the unified problem description structure in cgs
units. It is then used in consistency checks and as input into some equation of state
routines, such as the ideal gas equation of state routine.</p>
</div>
<div class="section" id="id31">
<h3><strong>References</strong><a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<p>No References.</p>
</div>
</div>
<div class="section" id="anneal-mesh-on-output">
<h2><strong>Anneal Mesh on Output</strong><a class="headerlink" href="#anneal-mesh-on-output" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Anneal</span> <span class="n">Mesh</span> <span class="n">on</span> <span class="n">Output</span> <span class="o">=</span> <span class="p">{</span><span class="n">yes</span> <span class="o">|</span> <span class="n">no</span><span class="p">}</span>
</pre></div>
</div>
<div class="section" id="id32">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<p>This optional card enables the user to specify that the mesh displacements should be set
to zero for the next continuation step. Valid options for this input card are</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>yes</p></td>
<td><p>Set the mesh displacements to zero for the next continuation step.</p></td>
</tr>
<tr class="row-even"><td><p>no</p></td>
<td><p>Do not set the mesh displacements to zero for the next
continuation step. This is the default.</p></td>
</tr>
</tbody>
</table>
<p>There are two important restrictions: 1) annealing the mesh will not work for the
TOTAL_ALE mesh motion types, and 2) only the last time step will be annealed for
transient problems.</p>
</div>
<div class="section" id="id33">
<h3><strong>Examples</strong><a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<p>Following is a sample card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Anneal</span> <span class="n">Mesh</span> <span class="n">on</span> <span class="n">Output</span> <span class="o">=</span> <span class="n">yes</span>
</pre></div>
</div>
</div>
<div class="section" id="id34">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<p>Annealing a mesh is accomplished by adding the displacements (from the solution) to
the base positions (from the FEM file) and writing the resulting nodal positions to a
new EXODUS II file, currently anneal.exoII. During the annealing process, the
displacement field is also set to zero. This file would be used to restart a subsequent
analysis where the anneal.exoII is copied to, or becomes, the file used in a
<strong>read_exoII</strong> option for an <em>Initial Guess</em>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="time_integration.html" class="btn btn-neutral float-right" title="Time Integration Specifications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="file_specifications.html" class="btn btn-neutral float-left" title="File Specification" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>